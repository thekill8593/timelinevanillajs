"use strict";function _instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function _classCallCheck(t,e){if(!_instanceof(t,e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var Timeline=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itemsPerPage:5};_classCallCheck(this,t),this.options=i,this.screenWidth=Math.max(document.documentElement.clientWidth,screen.width||0),this.itemWidth=this.calculateItemWidth(),this.options.itemsPerPage=this.calculateItemsPerPage(),this.itemsShowed=this.options.itemsPerPage,this.btnGoLeft=document.getElementById("btn-left"),this.btnGoRight=document.getElementById("btn-right"),this.timeline=document.getElementById("timeline"),this.timelineContainer=document.getElementById("timeline-container"),this.items=this.timeline.children,this.timelineWidth=this.calculateAndSetWidthTimeline(),this.timelineContainerWidth=this.calculateAndSetWidthTimelineContainer(),this.setWidthToItems(),this.isAnimating=!1,this.btnGoLeft.addEventListener("click",function(){e.moveTimeline("left")}),this.btnGoRight.addEventListener("click",function(){e.moveTimeline("right")}),this.drawButtons()}return _createClass(t,[{key:"calculateAndSetWidthTimeline",value:function(){var t=this.items.length*this.itemWidth;return this.timeline.style.width="".concat(t,"px"),t}},{key:"moveTimeline",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"left";if(!this.isAnimating){var i=this.getNumericValue(this.timeline.style.marginLeft);if(0===i&&"left"===e||Math.abs(i)>=this.timelineWidth-this.timelineContainerWidth&&"right"===e)this.isAnimating=!1;else{this.isAnimating=!0;var n=this.numberOfItemsToShow(e),s="right"===e?-n*this.itemWidth:n*this.itemWidth,h=i+s;"right"===e?this.itemsShowed+=n:"left"===e&&(this.itemsShowed-=n),this.drawButtons();var l=setInterval(function(){if(i===h)return t.isAnimating=!1,void clearInterval(l);i=i>h?i-=10:i+=10,t.timeline.style.marginLeft="".concat(i,"px")},1)}}}},{key:"numberOfItemsToShow",value:function(t){return"right"===t?this.items.length-this.itemsShowed>1?2:1:"left"===t?this.itemsShowed-this.options.itemsPerPage>1?2:1:void 0}},{key:"getNumericValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";try{return t?parseInt(t.replace(e,"")):0}catch(t){console.error(t)}return 0}},{key:"calculateAndSetWidthTimelineContainer",value:function(){var t=this.options.itemsPerPage*this.itemWidth;return this.timelineContainer.style.width="".concat(t,"px"),t}},{key:"setWidthToItems",value:function(){for(var t=0;t<this.items.length;t++)this.items[t].style.width="".concat(this.itemWidth,"px")}},{key:"calculateItemWidth",value:function(){return this.screenWidth>=500?180:160}},{key:"drawButtons",value:function(){this.itemsShowed===this.options.itemsPerPage?this.btnGoLeft.style.display="none":this.btnGoLeft.style.display="block",this.itemsShowed===this.items.length?this.btnGoRight.style.display="none":this.btnGoRight.style.display="block"}},{key:"calculateItemsPerPage",value:function(){return this.screenWidth>1240?this.options.itemsPerPage:this.screenWidth>1100?5:this.screenWidth>850?4:this.screenWidth>650?3:2}}]),t}();